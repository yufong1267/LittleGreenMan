include HT66F50.inc
ds	.section	'data'
COUNT 		DB		?
COUNT1		DB		?
COUNT2		DB		?
DEL1		DB		?
DEL2		DB		?
DEL3		DB		?
cs	.section	at  000h	'code'
INIT:
	MOV 	A,08H
	MOV 	CP0C,A
	MOV 	CP1C,A
	CLR 	ACERL
	CLR 	PDC
	CLR     PEC
	CLR     PD
	CLR     PE
	
	MOV     A,00000001B
	MOV     PE,A
MAIN:

	MOV 	A,8
	MOV 	COUNT,A
	MOV 	A,18
	MOV		COUNT1,A
	MOV 	A,100
	MOV		COUNT2,A
	MOV 	A,OFFSET LED
	MOV		TBLP,A


LOOP:
	TABRDL	PD
	CALL	DELAY
	CLR		PD
	RL		PE
	INC		TBLP
	SDZ		COUNT
	JMP 	LOOP
	JMP		MAIN	
ORG LASTPAGE
LED:
			DC	00011000B
			DC	00111100B
			DC	00011000B
			DC	00111100B
			DC	01011010B
			DC	00011000B
			DC	00100100B
			DC	00100100B
		
DELAY	PROC
		MOV		A,1	
		MOV		DEL1,A
DEL_1:
		MOV 	A,10
		MOV 	DEL2,A
DEL_2:
		MOV 	A,30
		MOV 	DEL3,A
DEL_3:
		SDZ		DEL3
		JMP		DEL_3
		SDZ		DEL2
		JMP		DEL_2
		SDZ		DEL1
		JMP		DEL_1
		RET
DELAY		ENDP
